<!-- HTML header for doxygen 1.13.2-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.13.2" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PhysicsBasedAnimationToolkit: pbat::gpu::impl::geometry::Bvh Class Reference</title>
  <link rel="icon" href="../../entei.icon.png" type="image/x-icon" />
  <link href="../../tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../../jquery.js"></script>
  <script type="text/javascript" src="../../dynsections.js"></script>
  <script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
  <!-- BEGIN Doxygen Awesome -->
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeFragmentCopyButton.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeParagraphLink.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeInteractiveToc.init()
  </script>
  <script type="text/javascript" src="../../doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
      DoxygenAwesomeTabs.init()
  </script>
  <!-- END Doxygen Awesome -->
  <link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
  <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
  <script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
  <link href="../../doxygen.css" rel="stylesheet" type="text/css" />
  <link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="../../pbat.svg"  /></td>
              <td id="projectalign">
                <div id="projectname">PhysicsBasedAnimationToolkit<span
                    id="projectnumber">&#160;0.0.10</span>
                </div>
                <div id="projectbrief">Cross-platform C++20 library of algorithms and data structures commonly used in computer graphics research on physically-based simulation.</div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d0/d77/classpbat_1_1gpu_1_1impl_1_1geometry_1_1_bvh.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="../../d9/d10/classpbat_1_1gpu_1_1impl_1_1geometry_1_1_bvh-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pbat::gpu::impl::geometry::Bvh Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Radix-tree linear BVH.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0d726fe86fc7019360a4d2baeb5f2cdc" id="r_a0d726fe86fc7019360a4d2baeb5f2cdc"><td class="memItemLeft" align="right" valign="top"><a id="a0d726fe86fc7019360a4d2baeb5f2cdc" name="a0d726fe86fc7019360a4d2baeb5f2cdc"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>OverlapType</b> = cuda::std::pair&lt;<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>, <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>&gt;</td></tr>
<tr class="separator:a0d726fe86fc7019360a4d2baeb5f2cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf5a65998b326e3ea462b72389c338d4" id="r_adf5a65998b326e3ea462b72389c338d4"><td class="memItemLeft" align="right" valign="top"><a id="adf5a65998b326e3ea462b72389c338d4" name="adf5a65998b326e3ea462b72389c338d4"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>MortonCodeType</b> = <a class="el" href="../../d2/d7a/namespacepbat_1_1geometry.html#a930a1551ac51c87aae9dcd75f0163ee4">pbat::geometry::MortonCodeType</a></td></tr>
<tr class="separator:adf5a65998b326e3ea462b72389c338d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae48cc5a10f2ed81b02e25ad76fb9fdec" id="r_ae48cc5a10f2ed81b02e25ad76fb9fdec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae48cc5a10f2ed81b02e25ad76fb9fdec">Bvh</a> (<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> nBoxes)</td></tr>
<tr class="separator:ae48cc5a10f2ed81b02e25ad76fb9fdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25a3dff14f3f5fc47f958810246995f" id="r_ac25a3dff14f3f5fc47f958810246995f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac25a3dff14f3f5fc47f958810246995f">Build</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; &amp;aabbs, <a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;min, <a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;max)</td></tr>
<tr class="memdesc:ac25a3dff14f3f5fc47f958810246995f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build BVH from primitive aabbs.  <br /></td></tr>
<tr class="separator:ac25a3dff14f3f5fc47f958810246995f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9017864f3ae5c7a745dc1b44ea50a7f4" id="r_a9017864f3ae5c7a745dc1b44ea50a7f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9017864f3ae5c7a745dc1b44ea50a7f4">SortByMortonCode</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; &amp;aabbs, <a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;min, <a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;max)</td></tr>
<tr class="separator:a9017864f3ae5c7a745dc1b44ea50a7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6d237ad383d23620f7b2491d4816ab" id="r_aba6d237ad383d23620f7b2491d4816ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba6d237ad383d23620f7b2491d4816ab">BuildTree</a> (<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> n)</td></tr>
<tr class="memdesc:aba6d237ad383d23620f7b2491d4816ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds the BVH's hierarchy, assuming primitives have been sorted.  <br /></td></tr>
<tr class="separator:aba6d237ad383d23620f7b2491d4816ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a053f87cd9e13a92d08407e20572e7562" id="r_a053f87cd9e13a92d08407e20572e7562"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a053f87cd9e13a92d08407e20572e7562">ConstructBoxes</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; &amp;aabbs)</td></tr>
<tr class="memdesc:a053f87cd9e13a92d08407e20572e7562"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes internal node bounding boxes, assuming the BVH's hierarchy is built.  <br /></td></tr>
<tr class="separator:a053f87cd9e13a92d08407e20572e7562"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a531e6a3d1655e809f594443eeaa7ae" id="r_a7a531e6a3d1655e809f594443eeaa7ae"><td class="memTemplParams" colspan="2">template&lt;class FOnOverlapDetected&gt; </td></tr>
<tr class="memitem:a7a531e6a3d1655e809f594443eeaa7ae"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7a531e6a3d1655e809f594443eeaa7ae">DetectOverlaps</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;aabbs, FOnOverlapDetected &amp;&amp;fOnOverlapDetected)</td></tr>
<tr class="separator:a7a531e6a3d1655e809f594443eeaa7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd41e7c76a24cd89c735091113d45b2" id="r_a0fd41e7c76a24cd89c735091113d45b2"><td class="memTemplParams" colspan="2">template&lt;class FOnOverlapDetected, auto kStackSize = 64&gt; </td></tr>
<tr class="memitem:a0fd41e7c76a24cd89c735091113d45b2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a0fd41e7c76a24cd89c735091113d45b2">DetectOverlaps</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;leafAabbs, <a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;queryAabbs, FOnOverlapDetected fOnOverlapDetected)</td></tr>
<tr class="separator:a0fd41e7c76a24cd89c735091113d45b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7738158bc355787a791cb9b29144f98c" id="r_a7738158bc355787a791cb9b29144f98c"><td class="memTemplParams" colspan="2">template&lt;class FGetQueryObject, class FMinDistanceToBox, class FDistanceToLeaf, class FDistanceUpperBound, class FOnNearestNeighbourFound, auto kQueueSize = 8, auto kStackSize = 64&gt; </td></tr>
<tr class="memitem:a7738158bc355787a791cb9b29144f98c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7738158bc355787a791cb9b29144f98c">NearestNeighbours</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;aabbs, <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> nQueries, FGetQueryObject fGetQueryObject, FMinDistanceToBox fMinDistanceToBox, FDistanceToLeaf fDistanceToleaf, FDistanceUpperBound fDistanceUpperBound, FOnNearestNeighbourFound fOnNearestNeighbourFound, <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124">GpuScalar</a> eps=<a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124">GpuScalar</a>(0))</td></tr>
<tr class="separator:a7738158bc355787a791cb9b29144f98c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91cb676d06b3a2132c0a78a6fd0c7d3" id="r_ad91cb676d06b3a2132c0a78a6fd0c7d3"><td class="memTemplParams" colspan="2">template&lt;class FGetQueryObject, class FMinDistanceToBox, class FDistanceToLeaf, class FDistanceUpperBound, class FOnFound, auto kStackSize = 64&gt; </td></tr>
<tr class="memitem:ad91cb676d06b3a2132c0a78a6fd0c7d3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ad91cb676d06b3a2132c0a78a6fd0c7d3">RangeSearch</a> (<a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;aabbs, <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> nQueries, FGetQueryObject fGetQueryObject, FMinDistanceToBox fMinDistanceToBox, FDistanceToLeaf fDistanceToleaf, FDistanceUpperBound fDistanceUpperBound, FOnFound fOnFound)</td></tr>
<tr class="separator:ad91cb676d06b3a2132c0a78a6fd0c7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a820c9f0e50ca9da68880a02ef9f9b4d8" id="r_a820c9f0e50ca9da68880a02ef9f9b4d8"><td class="memItemLeft" align="right" valign="top"><a id="a820c9f0e50ca9da68880a02ef9f9b4d8" name="a820c9f0e50ca9da68880a02ef9f9b4d8"></a>
<a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt; <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>inds</b></td></tr>
<tr class="memdesc:a820c9f0e50ca9da68880a02ef9f9b4d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">n leaf box indices <br /></td></tr>
<tr class="separator:a820c9f0e50ca9da68880a02ef9f9b4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac0362b6444f73caaa1da19002b48505" id="r_aac0362b6444f73caaa1da19002b48505"><td class="memItemLeft" align="right" valign="top"><a id="aac0362b6444f73caaa1da19002b48505" name="aac0362b6444f73caaa1da19002b48505"></a>
<a class="el" href="../../da/df9/classpbat_1_1gpu_1_1impl_1_1geometry_1_1_morton.html">Morton</a>&#160;</td><td class="memItemRight" valign="bottom"><b>morton</b></td></tr>
<tr class="memdesc:aac0362b6444f73caaa1da19002b48505"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="../../da/df9/classpbat_1_1gpu_1_1impl_1_1geometry_1_1_morton.html">Morton</a> codes of leaf boxes. <br /></td></tr>
<tr class="separator:aac0362b6444f73caaa1da19002b48505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd0d8ffb0dea8da1038f23923c91fad" id="r_a1bd0d8ffb0dea8da1038f23923c91fad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt; <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bd0d8ffb0dea8da1038f23923c91fad">child</a></td></tr>
<tr class="separator:a1bd0d8ffb0dea8da1038f23923c91fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2597517b21fafabcd5d72256d4b5797c" id="r_a2597517b21fafabcd5d72256d4b5797c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt; <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2597517b21fafabcd5d72256d4b5797c">parent</a></td></tr>
<tr class="separator:a2597517b21fafabcd5d72256d4b5797c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dede13f7475ae5a56daf6ceafecfc6d" id="r_a4dede13f7475ae5a56daf6ceafecfc6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt; <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dede13f7475ae5a56daf6ceafecfc6d">rightmost</a></td></tr>
<tr class="separator:a4dede13f7475ae5a56daf6ceafecfc6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe46f7f04045ba628cf32bd11cd5656" id="r_a1fe46f7f04045ba628cf32bd11cd5656"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fe46f7f04045ba628cf32bd11cd5656">iaabbs</a></td></tr>
<tr class="separator:a1fe46f7f04045ba628cf32bd11cd5656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb5855fcc6517751291c815cb57e119" id="r_aaeb5855fcc6517751291c815cb57e119"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt; <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaeb5855fcc6517751291c815cb57e119">visits</a></td></tr>
<tr class="separator:aaeb5855fcc6517751291c815cb57e119"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a116373cd03844c8e76780b3049fd24ed" id="r_a116373cd03844c8e76780b3049fd24ed"><td class="memItemLeft" align="right" valign="top"><a id="a116373cd03844c8e76780b3049fd24ed" name="a116373cd03844c8e76780b3049fd24ed"></a>
static auto constexpr&#160;</td><td class="memItemRight" valign="bottom"><b>kDims</b> = 3</td></tr>
<tr class="separator:a116373cd03844c8e76780b3049fd24ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a82875cb710c8cb73ed23f4e9b6ffca4e" id="r_a82875cb710c8cb73ed23f4e9b6ffca4e"><td class="memItemLeft" align="right" valign="top"><a id="a82875cb710c8cb73ed23f4e9b6ffca4e" name="a82875cb710c8cb73ed23f4e9b6ffca4e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>BvhQuery</b></td></tr>
<tr class="separator:a82875cb710c8cb73ed23f4e9b6ffca4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Radix-tree linear BVH. </p>
<p>See <a href="https://research.nvidia.com/sites/default/files/pubs/2012-06_Maximizing-Parallelism-in/karras2012hpg_paper.pdf#page=4.43">https://research.nvidia.com/sites/default/files/pubs/2012-06_Maximizing-Parallelism-in/karras2012hpg_paper.pdf#page=4.43</a> </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae48cc5a10f2ed81b02e25ad76fb9fdec" name="ae48cc5a10f2ed81b02e25ad76fb9fdec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae48cc5a10f2ed81b02e25ad76fb9fdec">&#9670;&#160;</a></span>Bvh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pbat::gpu::impl::geometry::Bvh::Bvh </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a></td>          <td class="paramname"><span class="paramname"><em>nBoxes</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nBoxes</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac25a3dff14f3f5fc47f958810246995f" name="ac25a3dff14f3f5fc47f958810246995f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac25a3dff14f3f5fc47f958810246995f">&#9670;&#160;</a></span>Build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::Build </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>aabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>min</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>max</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build BVH from primitive aabbs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aabbs</td><td>Primitive aabbs </td></tr>
    <tr><td class="paramname">min</td><td>World bounding box minimum </td></tr>
    <tr><td class="paramname">max</td><td>World bounding box maximum </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba6d237ad383d23620f7b2491d4816ab" name="aba6d237ad383d23620f7b2491d4816ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6d237ad383d23620f7b2491d4816ab">&#9670;&#160;</a></span>BuildTree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::BuildTree </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a></td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Builds the BVH's hierarchy, assuming primitives have been sorted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>Number of leaf boxes </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a053f87cd9e13a92d08407e20572e7562" name="a053f87cd9e13a92d08407e20572e7562"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a053f87cd9e13a92d08407e20572e7562">&#9670;&#160;</a></span>ConstructBoxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::ConstructBoxes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>aabbs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes internal node bounding boxes, assuming the BVH's hierarchy is built. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aabbs</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7a531e6a3d1655e809f594443eeaa7ae" name="a7a531e6a3d1655e809f594443eeaa7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a531e6a3d1655e809f594443eeaa7ae">&#9670;&#160;</a></span>DetectOverlaps() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FOnOverlapDetected&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::DetectOverlaps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>aabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FOnOverlapDetected &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>fOnOverlapDetected</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">FOnOverlapDetected</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aabbs</td><td>The same aabbs that were given to <a class="el" href="#ac25a3dff14f3f5fc47f958810246995f" title="Build BVH from primitive aabbs.">Build()</a>, otherwise undefined behavior. </td></tr>
    <tr><td class="paramname">fOnOverlapDetected</td><td>Callback called on detected overlaps with signature void f(GpuIndex,GpuIndex) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0fd41e7c76a24cd89c735091113d45b2" name="a0fd41e7c76a24cd89c735091113d45b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fd41e7c76a24cd89c735091113d45b2">&#9670;&#160;</a></span>DetectOverlaps() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FOnOverlapDetected, auto kStackSize&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::DetectOverlaps </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>leafAabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>queryAabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FOnOverlapDetected</td>          <td class="paramname"><span class="paramname"><em>fOnOverlapDetected</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">FOnOverlapDetected</td><td></td></tr>
    <tr><td class="paramname">kStackSize</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">leafAabbs</td><td></td></tr>
    <tr><td class="paramname">queryAabbs</td><td></td></tr>
    <tr><td class="paramname">fOnOverlapDetected</td><td>Callback called on detected overlaps with signature void f(GpuIndex
q, GpuIndex i) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7738158bc355787a791cb9b29144f98c" name="a7738158bc355787a791cb9b29144f98c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7738158bc355787a791cb9b29144f98c">&#9670;&#160;</a></span>NearestNeighbours()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FGetQueryObject, class FMinDistanceToBox, class FDistanceToLeaf, class FDistanceUpperBound, class FOnNearestNeighbourFound, auto kQueueSize, auto kStackSize&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::NearestNeighbours </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>aabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a></td>          <td class="paramname"><span class="paramname"><em>nQueries</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FGetQueryObject</td>          <td class="paramname"><span class="paramname"><em>fGetQueryObject</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FMinDistanceToBox</td>          <td class="paramname"><span class="paramname"><em>fMinDistanceToBox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FDistanceToLeaf</td>          <td class="paramname"><span class="paramname"><em>fDistanceToleaf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FDistanceUpperBound</td>          <td class="paramname"><span class="paramname"><em>fDistanceUpperBound</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FOnNearestNeighbourFound</td>          <td class="paramname"><span class="paramname"><em>fOnNearestNeighbourFound</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124">GpuScalar</a></td>          <td class="paramname"><span class="paramname"><em>eps</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124">GpuScalar</a>(0)</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">FGetQueryObject</td><td>Callable with signature TQuery f(GpuIndex) </td></tr>
    <tr><td class="paramname">FMinDistanceToBox</td><td>Callable with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(TQuery, Point, Point) where Point=pbat::math::linalg::mini::SVector&lt;GpuScalar, 3&gt; </td></tr>
    <tr><td class="paramname">FDistanceToLeaf</td><td>Callable with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5" title="Index type for GPU code.">GpuIndex</a> q, TQuery query, <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5" title="Index type for GPU code.">GpuIndex</a> leaf, " "<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5" title="Index type for GPU code.">GpuIndex</a> i) </td></tr>
    <tr><td class="paramname">FDistanceUpperBound</td><td>Callable with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(GpuIndex) </td></tr>
    <tr><td class="paramname">FOnNearestNeighbourFound</td><td>Callable with signature void f(GpuIndex query, GpuIndex
  i, GpuScalar d, GpuIndex k) </td></tr>
    <tr><td class="paramname">kQueueSize</td><td>Nearest neighbour queue size </td></tr>
    <tr><td class="paramname">kStackSize</td><td>Branch and bound minimization's depth-first search stack size</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aabbs</td><td>The same aabbs that were given to <a class="el" href="#ac25a3dff14f3f5fc47f958810246995f" title="Build BVH from primitive aabbs.">Build()</a>, otherwise undefined behavior. </td></tr>
    <tr><td class="paramname">nQueries</td><td>Number of queries </td></tr>
    <tr><td class="paramname">fGetQueryObject</td><td>Callable to get query object with signature TQuery f(GpuIndex) </td></tr>
    <tr><td class="paramname">fMinDistanceToBox</td><td>Callable to get minimum distance to box with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(TQuery, Point, Point) </td></tr>
    <tr><td class="paramname">fDistanceToleaf</td><td>Callable to get distance to leaf with signature f(<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5" title="Index type for GPU code.">GpuIndex</a> q, TQuery query, <a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5" title="Index type for GPU code.">GpuIndex</a> leaf, " "<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5" title="Index type for GPU code.">GpuIndex</a> i) </td></tr>
    <tr><td class="paramname">fDistanceUpperBound</td><td>Callable to get query q's distance upper bound with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(GpuIndex) </td></tr>
    <tr><td class="paramname">fOnNearestNeighbourFound</td><td>Callable to get nearest neighbour with signature void f(GpuIndex q, GpuIndex i, GpuScalar d, GpuIndex k) </td></tr>
    <tr><td class="paramname">eps</td><td>Epsilon for distance comparison </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad91cb676d06b3a2132c0a78a6fd0c7d3" name="ad91cb676d06b3a2132c0a78a6fd0c7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91cb676d06b3a2132c0a78a6fd0c7d3">&#9670;&#160;</a></span>RangeSearch()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class FGetQueryObject, class FMinDistanceToBox, class FDistanceToLeaf, class FDistanceUpperBound, class FOnFound, auto kStackSize&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::RangeSearch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; const &amp;</td>          <td class="paramname"><span class="paramname"><em>aabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a></td>          <td class="paramname"><span class="paramname"><em>nQueries</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FGetQueryObject</td>          <td class="paramname"><span class="paramname"><em>fGetQueryObject</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FMinDistanceToBox</td>          <td class="paramname"><span class="paramname"><em>fMinDistanceToBox</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FDistanceToLeaf</td>          <td class="paramname"><span class="paramname"><em>fDistanceToleaf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FDistanceUpperBound</td>          <td class="paramname"><span class="paramname"><em>fDistanceUpperBound</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FOnFound</td>          <td class="paramname"><span class="paramname"><em>fOnFound</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">FGetQueryObject</td><td>Callable with signature TQuery f(GpuIndex) </td></tr>
    <tr><td class="paramname">FMinDistanceToBox</td><td>Callable with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(TQuery, Point, Point) where Point=pbat::math::linalg::mini::SVector&lt;GpuScalar, 3&gt; </td></tr>
    <tr><td class="paramname">FDistanceToLeaf</td><td>Callable with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(GpuIndex q, TQuery query, GpuIndex leaf, GpuIndex i) </td></tr>
    <tr><td class="paramname">FDistanceUpperBound</td><td>Callable with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(GpuIndex) </td></tr>
    <tr><td class="paramname">FOnFound</td><td>Callable with signature void f(GpuIndex q, TQuery query, GpuIndex leafIdx,
GpuIndex i, TLeaf leaf, GpuScalar d) </td></tr>
    <tr><td class="paramname">kStackSize</td><td>Branch and bound minimization's depth-first search stack size</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aabbs</td><td>The same aabbs that were given to <a class="el" href="#ac25a3dff14f3f5fc47f958810246995f" title="Build BVH from primitive aabbs.">Build()</a>, otherwise undefined behavior. </td></tr>
    <tr><td class="paramname">nQueries</td><td>Number of queries </td></tr>
    <tr><td class="paramname">fGetQueryObject</td><td>Callable to get query object with signature TQuery f(GpuIndex) </td></tr>
    <tr><td class="paramname">fMinDistanceToBox</td><td>Callable to get minimum distance to box with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> </td></tr>
    <tr><td class="paramname">fDistanceToleaf</td><td>Callable to get distance to leaf with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(GpuIndex q, TQuery query, GpuIndex leaf, GpuIndex i) </td></tr>
    <tr><td class="paramname">fDistanceUpperBound</td><td>Callable to get query q's distance upper bound with signature <a class="el" href="../../d0/d7c/namespacepbat.html#a5e3419e9d07eefcef1eba8ecebf33124" title="Scalar type for GPU code.">GpuScalar</a> f(GpuIndex) </td></tr>
    <tr><td class="paramname">fOnFound</td><td>Callable for handling satisfied queries with signature void f(GpuIndex q, GpuIndex leafIdx, GpuIndex i, GpuScalar d) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9017864f3ae5c7a745dc1b44ea50a7f4" name="a9017864f3ae5c7a745dc1b44ea50a7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9017864f3ae5c7a745dc1b44ea50a7f4">&#9670;&#160;</a></span>SortByMortonCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pbat::gpu::impl::geometry::Bvh::SortByMortonCode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt; kDims &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>aabbs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>min</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d9a/classpbat_1_1math_1_1linalg_1_1mini_1_1_s_matrix.html">Morton::Bound</a> const &amp;</td>          <td class="paramname"><span class="paramname"><em>max</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aabbs</td><td></td></tr>
    <tr><td class="paramname">min</td><td></td></tr>
    <tr><td class="paramname">max</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a1bd0d8ffb0dea8da1038f23923c91fad" name="a1bd0d8ffb0dea8da1038f23923c91fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bd0d8ffb0dea8da1038f23923c91fad">&#9670;&#160;</a></span>child</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt;<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>, 2&gt; pbat::gpu::impl::geometry::Bvh::child</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(n-1)x2 left and right children. If child[lr][i] &gt; n - 2, then it is a leaf node, otherwise an internal node. lr == 0 -&gt; left child buffer, while lr == 1 -&gt; right child buffer. i == 0 -&gt; root node. </p>

</div>
</div>
<a id="a1fe46f7f04045ba628cf32bd11cd5656" name="a1fe46f7f04045ba628cf32bd11cd5656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fe46f7f04045ba628cf32bd11cd5656">&#9670;&#160;</a></span>iaabbs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/da3/structpbat_1_1gpu_1_1impl_1_1geometry_1_1_aabb.html">Aabb</a>&lt;kDims&gt; pbat::gpu::impl::geometry::Bvh::iaabbs</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(n-1) internal node bounding boxes for n leaf node bounding boxes. The box 0 is always the root. </p>

</div>
</div>
<a id="a2597517b21fafabcd5d72256d4b5797c" name="a2597517b21fafabcd5d72256d4b5797c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2597517b21fafabcd5d72256d4b5797c">&#9670;&#160;</a></span>parent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt;<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>&gt; pbat::gpu::impl::geometry::Bvh::parent</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(2n-1) parent map, s.t. parent[i] -&gt; index of parent node of node i. parent[0] == -1 &lt;=&gt; root node has no parent. </p>

</div>
</div>
<a id="a4dede13f7475ae5a56daf6ceafecfc6d" name="a4dede13f7475ae5a56daf6ceafecfc6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dede13f7475ae5a56daf6ceafecfc6d">&#9670;&#160;</a></span>rightmost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt;<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>, 2&gt; pbat::gpu::impl::geometry::Bvh::rightmost</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(n-1) rightmost map, s.t. rightmost[lr][i] -&gt; right most leaf in left (lr == 0) or right (lr == 1) subtree. </p>

</div>
</div>
<a id="aaeb5855fcc6517751291c815cb57e119" name="aaeb5855fcc6517751291c815cb57e119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeb5855fcc6517751291c815cb57e119">&#9670;&#160;</a></span>visits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d50/classpbat_1_1gpu_1_1impl_1_1common_1_1_buffer.html">common::Buffer</a>&lt;<a class="el" href="../../d0/d7c/namespacepbat.html#af3bd9f308393eddf737ecd496f5d9ff5">GpuIndex</a>&gt; pbat::gpu::impl::geometry::Bvh::visits</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>(n-1) atomic counters of internal node visits for bottom-up bounding box computations </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>C:/git/PhysicsBasedAnimationToolkit/source/pbat/gpu/impl/geometry/<a class="el" href="../../d1/dfc/_bvh_8cuh_source.html">Bvh.cuh</a></li>
<li>C:/git/PhysicsBasedAnimationToolkit/source/pbat/gpu/impl/geometry/<b>Bvh.cu</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d7c/namespacepbat.html">pbat</a></li><li class="navelem"><a class="el" href="../../de/d07/namespacepbat_1_1gpu.html">gpu</a></li><li class="navelem"><b>impl</b></li><li class="navelem"><b>geometry</b></li><li class="navelem"><a class="el" href="../../d0/d77/classpbat_1_1gpu_1_1impl_1_1geometry_1_1_bvh.html">Bvh</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
